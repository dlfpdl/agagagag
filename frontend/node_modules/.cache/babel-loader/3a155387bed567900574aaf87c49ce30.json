{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\GIGABYTE\\\\Desktop\\\\dpma\\\\frontend\\\\src\\\\components\\\\posts\\\\post-comments.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { useFetch } from \"../../shared/hooks/useFetch\";\nimport PostItem from \"./post-item\";\nimport { useSelector } from \"react-redux\";\nimport Loading from \"../../shared/models/loading-modal\";\nimport PostFormComments from \"./post-form-comments\";\nimport history from \"../../history\";\n\nconst PostComments = props => {\n  const user = useSelector(state => state.currentUser);\n  const id = props.match.params.id;\n  const {\n    error,\n    loading,\n    request\n  } = useFetch();\n  const [post, setPosts] = useState();\n\n  const changeTitle = title => {\n    document.title = title;\n  };\n\n  const handlePost = async () => {\n    try {\n      const response = await request(process.env.REACT_APP_BACKEND_URL + `/posts/${id}`);\n      setPosts(response.data.post);\n\n      if (response.data.post.creator && response.data.post.creator.username) {\n        if (response.data.post.creator._id == user._id) {\n          changeTitle(\"Your post\");\n        } else changeTitle(`${response.data.post.creator.username} post`);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    handlePost();\n  }, [id]);\n\n  if (!post || loading) {\n    return React.createElement(Loading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    });\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"profile__header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"profile__header--icon\",\n    onClick: () => history.goBack(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"g\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"path\", {\n    d: \"M20 11H7.414l4.293-4.293c.39-.39.39-1.023 0-1.414s-1.023-.39-1.414 0l-6 6c-.39.39-.39 1.023 0 1.414l6 6c.195.195.45.293.707.293s.512-.098.707-.293c.39-.39.39-1.023 0-1.414L7.414 13H20c.553 0 1-.447 1-1s-.447-1-1-1z\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  })))), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, post.creator.username, \"'s Post\")), React.createElement(PostItem, {\n    uid: user._id,\n    img: user.img,\n    username: user.username,\n    token: user.token,\n    post: post,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), React.createElement(PostFormComments, {\n    id: id,\n    user: user,\n    postId: post._id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }));\n};\n\nexport default PostComments;","map":{"version":3,"sources":["C:/Users/GIGABYTE/Desktop/dpma/frontend/src/components/posts/post-comments.jsx"],"names":["React","useState","useEffect","useFetch","PostItem","useSelector","Loading","PostFormComments","history","PostComments","props","user","state","currentUser","id","match","params","error","loading","request","post","setPosts","changeTitle","title","document","handlePost","response","process","env","REACT_APP_BACKEND_URL","data","creator","username","_id","err","console","log","goBack","img","token"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useFetch } from \"../../shared/hooks/useFetch\";\r\nimport PostItem from \"./post-item\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Loading from \"../../shared/models/loading-modal\";\r\nimport PostFormComments from \"./post-form-comments\";\r\nimport history from \"../../history\";\r\n\r\nconst PostComments = (props) => {\r\n  const user = useSelector((state) => state.currentUser);\r\n  const id = props.match.params.id;\r\n  const { error, loading, request } = useFetch();\r\n  const [post, setPosts] = useState();\r\n  const changeTitle=(title)=>{\r\n    document.title=title;\r\n  }\r\n  const handlePost = async () => {\r\n    try {\r\n      const response = await request(\r\n        process.env.REACT_APP_BACKEND_URL + `/posts/${id}`\r\n      );\r\n      setPosts(response.data.post);\r\n      if(response.data.post.creator &&  response.data.post.creator.username){\r\n        if(response.data.post.creator._id == user._id){\r\n          changeTitle(\"Your post\")\r\n        }else changeTitle(`${response.data.post.creator.username} post`)\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    handlePost();\r\n  }, [id]);\r\n\r\n  if (!post || loading) {\r\n    return <Loading />;\r\n  }\r\n  return (\r\n    <div>\r\n      <div className=\"profile__header\">\r\n        <div className=\"profile__header--icon\" onClick={() => history.goBack()}>\r\n          <svg viewBox=\"0 0 24 24\">\r\n            <g>\r\n              <path d=\"M20 11H7.414l4.293-4.293c.39-.39.39-1.023 0-1.414s-1.023-.39-1.414 0l-6 6c-.39.39-.39 1.023 0 1.414l6 6c.195.195.45.293.707.293s.512-.098.707-.293c.39-.39.39-1.023 0-1.414L7.414 13H20c.553 0 1-.447 1-1s-.447-1-1-1z\"></path>\r\n            </g>\r\n          </svg>\r\n        </div>\r\n        <h2>{post.creator.username}'s Post</h2>\r\n      </div>\r\n      <PostItem\r\n        uid={user._id}\r\n        img={user.img}\r\n        username={user.username}\r\n        token={user.token}\r\n        post={post}\r\n      />\r\n      <PostFormComments id={id} user={user} postId={post._id} />\r\n    </div>\r\n  );\r\n};\r\nexport default PostComments;\r\n"]},"metadata":{},"sourceType":"module"}